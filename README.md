# java-convenience-store-precourse

## 입력

사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException` 을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.

- [ ]  **구매할 상품과 수량:**
    - [ ]  **구매 상품명:**
    - [ ]  **구매 상품 수량:**
    - **출력: "**구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])"
    - **입력:** 구매할 상품과 수량을 입력 받는다. 상품명, 수량은 하이픈(-)으로, 개별 상품은 대괄호([])로 묶어 쉼표(,)로 구분한다.

        ```
        [콜라-10],[사이다-3]
        ```

- [ ]  **프로모션 미적용 상품 안내:**
    - 프로모션 재고가 부족하여 일부 수량을 프로모션 혜택 없이 결제해야 하는 경우
    - **출력:** "현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)"
    - **입력:**
        - Y: 일부 수량에 대해 정가로 결제한다.
        - N: 정가로 결제해야하는 수량만큼 제외한 후 결제를 진행한다.
- [ ]  **프로모션 혜택 적용 안내:**
    - 추가 증정이 가능한 경우
    - **출력:** "현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)"
    - **입력:**
        - Y: 증정 받을 수 있는 상품을 추가한다.
        - N: 증정 받을 수 있는 상품을 추가하지 않는다.

## 로직

- [ ]  **일반 상품 생성:**
    - *상품 이름, 가격, 수량*으로 상품을 생성한다.
- [ ]  **프로모션 상품 전환:**
    - 일반 상품의 재고 일부를 *프로모션을 적용*하여 프로모션 상품으로 전환한다.
- [ ]  **상품 재고 수량 계산:**
    - *일반 상품의 재고* *수량과* *프로모션 상품의 재고 수량*을 계산한다.
- [ ]  **구매 상품 확인:**
    - *구매 상품 이름과 수량*를 확인한다.
- [ ]  **총 구매액 계산:**
    - *구매 상품 수량과 가격*으로 총 구매액을 계산한다.
- [ ]  **프로모션 미적용 상품 개수 반환:**
    - *프로모션 상품의 재고 수량*보다 같거나 많은 수량를 구매하려는 경우
    - 수량 = 일반 상품으로 전환된 프로모션 상품 개수 + 일반 상품으로 구매할 개수
        - 일반 상품으로 전환된 프로모션 상품 개수: 프로모션 상품 개수 % 프로모션 단위
        - 일반 상품으로 구매할 개수: 구매 상품 개수 - 프로모션 재고
- [ ]  **추가 증정 상태 확인:**
    - 추가 증정이 가능한지 확인한다.
        - 추가 증정 가능 : *구매할 프로모션 상품 개수 % (프로모션 단위 + 1) == 프로모션 단위*
- [ ]  **프로모션 상품 추가:**
    - *구매 상품 목록*에 *프로모션 상품*을 추가한다
- [ ]  **증정 상품 계산:**
    - *증정 상품 목록을 생성*한다
- [ ]  **행사 할인 계산:**
    - *증정 상품 목록의 가격 합*을 계산한다
- [ ]  **상품 재고 수량 차감:**
    - 결제된 수량만큼 해당 상품의 재고에서 차감하여 수량을 관리한다.

## 출력

- [ ]  **상품 정보:**
    - **출력:** " - {상품명} {가격(쉼표)}원 {수량} {프로모션 명}"

        ```
        - 콜라 1,000원 10개 탄산2+1
        ```

- [ ]  **상품 정보 목록:**
    - **출력a:** "안녕하세요. W편의점입니다.\n현재 보유하고 있는 상품입니다."
    - **출력b:** 줄바꿈(\n)으로 구분된 상품 정보

        ```
        - 콜라 1,000원 10개
        - 사이다 1,000원 8개 탄산2+1
        - 사이다 1,000원 7개
        - 오렌지주스 1,800원 9개 MD추천상품
        - 오렌지주스 1,800원 재고 없음
        - 탄산수 1,200원 5개 탄산2+1
        - 탄산수 1,200원 재고 없음
        - 물 500원 10개
        - 비타민워터 1,500원 6개
        - 감자칩 1,500원 5개 반짝할인
        - 감자칩 1,500원 5개
        - 초코바 1,200원 5개 MD추천상품
        - 초코바 1,200원 5개
        - 에너지바 2,000원 5개
        - 정식도시락 6,400원 8개
        - 컵라면 1,700원 1개 MD추천상품
        - 컵라면 1,700원 10개
        ```

- [ ]  **잘못된 입력:**
    - **출력:** "[ERROR] {예외 메세지} 다시 입력해 주세요."

## 예외

### IllegalArgumentException

- [ ]  **구매할 상품과 수량 형식이 올바르지 않은 경우:**
    - **출력:** "올바르지 않은 형식으로 입력했습니다."
- [ ]  **존재하지 않는 상품을 입력한 경우:**
    - **출력:** "존재하지 않는 상품입니다."
- [ ]  **구매 수량이 재고 수량을 초과한 경우:**
    - **출력:** "재고 수량을 초과하여 구매할 수 없습니다."
- [ ]  **기타 잘못된 입력의 경우:**
    - **출력:** "잘못된 입력입니다."
